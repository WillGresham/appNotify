var appNotify={selectedOption:false,showBanner:true,iOSLink:"",androidLink:"",bbLink:"",windowsLink:"",useLink:"",image:false,titleText:"We have a mobile app!",init:function(){if(this.isIDevice()){if(this.iOSLink=="")return false;this.useLink=this.iOSLink}else if(this.isAndroidDevice()){if(this.androidLink=="")return false;this.useLink=this.androidLink}else if(this.isBlackBerryDevice()){if(this.bbLink=="")return false;this.useLink=this.bbLink}else if(this.isWindowsPhoneDevice()){if(this.windowsLink==
"")return false;this.useLink=this.windowsLink}else return false;this.checkForCookie();if(this.showBanner===false||this.selectedOption==="h")return false;this.drawBanner(this.useLink)},isIDevice:function(){return/iPhone|iPad|iPod/.test(navigator.userAgent)},isAndroidDevice:function(){return/Android/.test(navigator.userAgent)},isBlackBerryDevice:function(){return/BlackBerry/.test(navigator.userAgent)},isWindowsPhoneDevice:function(){return/Windows Phone/.test(navigator.userAgent)},checkForCookie:function(){if(this.selectedOption===
false)if(document.cookie.match(/appNotify-seen=1/))this.showBanner=false;else if(document.cookie.match(/appNotify-setting=h/))this.selectedOption="h"},alwaysHide:function(){this.showBanner=false},setImage:function(imageUrl){this.image=imageUrl},setTitle:function(string){this.titleText=string},setIOSLink:function(link){this.iOSLink=link},setAndroidLink:function(link){this.androidLink=link},setWindowsPhoneLink:function(link){this.windowsLink=link},setBlackberryLink:function(link){this.bbLink=link},
click:function(what){if(what=="1")document.cookie="appNotify-seen=1;";else document.cookie="appNotify-setting=h;expires="+(new Date).toGMTString().replace(/\d{4}/,"2150");window.location.reload()},drawBanner:function(link){var wrapperDiv,wrapperP,imageHolder,titleText,acceptLink,dismissLink,hideLink,br;wrapperDiv=document.createElement("div");wrapperP=document.createElement("p");br=document.createElement("br");titleText=document.createTextNode(this.titleText);acceptLink=document.createElement("a");
dismissLink=document.createElement("a");hideLink=document.createElement("a");acceptLink.setAttribute("href",link);acceptLink.setAttribute("target","_blank");dismissLink.setAttribute("onclick","appNotify.click(0)");acceptLink.appendChild(document.createTextNode("Install App"));dismissLink.setAttribute("href","#");dismissLink.setAttribute("onclick","appNotify.click(0)");dismissLink.appendChild(document.createTextNode("No thanks"));hideLink.setAttribute("href","#");hideLink.setAttribute("onclick","appNotify.click(1)");
hideLink.appendChild(document.createTextNode("Not Right Now"));if(this.image!==false){imageHolder=document.createElement("img");imageHolder.setAttribute("src",this.image);imageHolder.setAttribute("alt","App Icon");imageHolder.setAttribute("style","float: left; vertical-align: middle");wrapperP.appendChild(imageHolder)}wrapperDiv.setAttribute("style","display: block; background-color: #d5e8f3; padding: 0.5em 0");wrapperP.setAttribute("style","width: 100%; padding: 0; margin: 0; display: inline-block; font-size: 1.2em;");
wrapperP.appendChild(titleText);wrapperP.appendChild(br);wrapperP.appendChild(acceptLink);wrapperP.appendChild(document.createTextNode(" | "));wrapperP.appendChild(dismissLink);wrapperP.appendChild(document.createTextNode(" | "));wrapperP.appendChild(hideLink);wrapperDiv.appendChild(wrapperP);document.body.insertBefore(wrapperDiv,document.body.childNodes[0])}};
